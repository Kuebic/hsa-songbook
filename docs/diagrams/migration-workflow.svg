<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400">
  <defs>
    <style>
      .box { fill: #f3f4f6; stroke: #6b7280; stroke-width: 2; }
      .start { fill: #10b981; stroke: #059669; }
      .action { fill: #dbeafe; stroke: #3b82f6; }
      .text { font-family: system-ui, -apple-system, sans-serif; font-size: 12px; text-anchor: middle; }
      .white { fill: white; }
      .dark { fill: #1f2937; }
      .arrow { stroke: #6b7280; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280" />
    </marker>
  </defs>
  
  <!-- Step 1: Plan -->
  <rect class="box start" x="20" y="150" width="100" height="60" rx="10"/>
  <text class="text white" x="70" y="175">Plan Schema</text>
  <text class="text white" x="70" y="195">Changes</text>
  
  <!-- Step 2: Create Migration -->
  <rect class="box action" x="160" y="150" width="120" height="60" rx="5"/>
  <text class="text dark" x="220" y="175">Create Migration</text>
  <text class="text dark" x="220" y="195">supabase new</text>
  
  <!-- Step 3: Write SQL -->
  <rect class="box" x="320" y="150" width="100" height="60" rx="5"/>
  <text class="text dark" x="370" y="175">Write SQL</text>
  <text class="text dark" x="370" y="195">Migration</text>
  
  <!-- Step 4: Test Locally -->
  <rect class="box action" x="460" y="150" width="100" height="60" rx="5"/>
  <text class="text dark" x="510" y="175">Test Locally</text>
  <text class="text dark" x="510" y="195">db:reset</text>
  
  <!-- Step 5: Generate Types -->
  <rect class="box action" x="600" y="150" width="120" height="60" rx="5"/>
  <text class="text dark" x="660" y="175">Generate Types</text>
  <text class="text dark" x="660" y="195">types:generate</text>
  
  <!-- Step 6: Implement -->
  <rect class="box" x="760" y="150" width="100" height="60" rx="5"/>
  <text class="text dark" x="810" y="175">Implement</text>
  <text class="text dark" x="810" y="195">Feature</text>
  
  <!-- Step 7: Deploy -->
  <rect class="box start" x="900" y="150" width="100" height="60" rx="10"/>
  <text class="text white" x="950" y="175">Deploy to</text>
  <text class="text white" x="950" y="195">Production</text>
  
  <!-- Step 8: Push Migration -->
  <rect class="box action" x="1040" y="150" width="120" height="60" rx="5"/>
  <text class="text dark" x="1100" y="175">Push Migration</text>
  <text class="text dark" x="1100" y="195">db:push</text>
  
  <!-- Arrows -->
  <path class="arrow" d="M 120 180 L 160 180"/>
  <path class="arrow" d="M 280 180 L 320 180"/>
  <path class="arrow" d="M 420 180 L 460 180"/>
  <path class="arrow" d="M 560 180 L 600 180"/>
  <path class="arrow" d="M 720 180 L 760 180"/>
  <path class="arrow" d="M 860 180 L 900 180"/>
  <path class="arrow" d="M 1000 180 L 1040 180"/>
  
  <!-- Test Loop -->
  <path class="arrow" d="M 510 210 L 510 250 L 370 250 L 370 210" stroke-dasharray="5,5"/>
  <text class="text dark" x="440" y="265" font-size="10">Fix if needed</text>
  
  <!-- Labels -->
  <text class="text dark" x="70" y="130" font-weight="bold">1. Plan</text>
  <text class="text dark" x="220" y="130" font-weight="bold">2. Create</text>
  <text class="text dark" x="370" y="130" font-weight="bold">3. Write</text>
  <text class="text dark" x="510" y="130" font-weight="bold">4. Test</text>
  <text class="text dark" x="660" y="130" font-weight="bold">5. Types</text>
  <text class="text dark" x="810" y="130" font-weight="bold">6. Code</text>
  <text class="text dark" x="950" y="130" font-weight="bold">7. Deploy</text>
  <text class="text dark" x="1100" y="130" font-weight="bold">8. Push</text>
  
  <!-- Title -->
  <text class="text dark" x="600" y="40" font-size="20" font-weight="bold">Database Migration Workflow</text>
  <text class="text dark" x="600" y="65" font-size="14">From schema change to production deployment</text>
</svg>